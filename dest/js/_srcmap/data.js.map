{"version":3,"sources":["data.js"],"names":["citycode","imgSrc","SubwayCitiesList","keyword","name","i","length","_SubwayCitiesList$i","$","appendTo","window","href","location","split","this","val","cityCode","html","text","BMapSub","getUrlQuery","toFixed","checkUrl","timeStamp","getScript","_rd","json","Math","random","l","eventsHandler","subwayPainter","instance","options","initialScale","haltEventListeners","init","hammer","Hammer","svgElement","PointerEventInput","TouchInput","pannedX","set","pannedY","inputClass","SUPPORT_POINTER_EVENTS","zoomIn","enable","on","ev","type","deltaX","panBy","y","deltaY","getZoom","scale","x","center","zoomAtPoint","e","destroy"],"mappings":"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","file":"../data.js","sourcesContent":["var imgSrc = \"data:image/png;base64,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\"\r\nvar SubwayCitiesList = [{\r\n    keyword: \"beijing\",\r\n    name: \"北京\",\r\n    citycode: \"131\"\r\n}, {\r\n    keyword: \"shanghai\",\r\n    name: \"上海\",\r\n    citycode: \"289\",\r\n}, {\r\n    keyword: \"guangzhou\",\r\n    name: \"广州\",\r\n    citycode: \"257\",\r\n}, {\r\n    keyword: \"shenzhen\",\r\n    name: \"深圳\",\r\n    citycode: \"340\",\r\n}, {\r\n    keyword: \"hongkong\",\r\n    name: \"香港\",\r\n    citycode: \"2912\",\r\n}, {\r\n    keyword: \"chengdu\",\r\n    name: \"成都\",\r\n    citycode: \"75\",\r\n}, {\r\n    keyword: \"changchun\",\r\n    name: \"长春\",\r\n    citycode: \"53\",\r\n}, {\r\n    keyword: \"chongqing\",\r\n    name: \"重庆\",\r\n    citycode: \"132\",\r\n}, {\r\n    keyword: \"dalian\",\r\n    name: \"大连\",\r\n    citycode: \"167\",\r\n}, {\r\n    keyword: \"foshan\",\r\n    name: \"佛山\",\r\n    citycode: \"138\",\r\n}, {\r\n    keyword: \"hangzhou\",\r\n    name: \"杭州\",\r\n    citycode: \"179\",\r\n}, {\r\n    keyword: \"kunming\",\r\n    name: \"昆明\",\r\n    citycode: \"104\",\r\n}, {\r\n    keyword: \"nanjing\",\r\n    name: \"南京\",\r\n    citycode: \"315\",\r\n}, {\r\n    keyword: \"shenyang\",\r\n    name: \"沈阳\",\r\n    citycode: \"58\",\r\n}, {\r\n    keyword: \"suzhou\",\r\n    name: \"苏州\",\r\n    citycode: \"224\",\r\n}, {\r\n    keyword: \"tianjin\",\r\n    name: \"天津\",\r\n    citycode: \"332\",\r\n}, {\r\n    keyword: \"wuhan\",\r\n    name: \"武汉\",\r\n    citycode: \"218\",\r\n}, {\r\n    keyword: \"xian\",\r\n    name: \"西安\",\r\n    citycode: \"233\",\r\n}, {\r\n    keyword: \"haerbin\",\r\n    name: \"哈尔滨\",\r\n    citycode: \"48\",\r\n}, {\r\n    keyword: \"zhengzhou\",\r\n    name: \"郑州\",\r\n    citycode: \"268\",\r\n}, {\r\n    keyword: \"changsha\",\r\n    name: \"长沙\",\r\n    citycode: \"158\",\r\n}, {\r\n    keyword: \"ningbo\",\r\n    name: \"宁波\",\r\n    citycode: \"180\",\r\n}, {\r\n    keyword: \"wuxi\",\r\n    name: \"无锡\",\r\n    citycode: \"317\",\r\n}, {\r\n    keyword: \"taibei\",\r\n    name: \"台北\",\r\n    citycode: \"9002\",\r\n}, {\r\n    keyword: \"gaoxiong\",\r\n    name: \"高雄\",\r\n    citycode: \"9019\",\r\n}, {\r\n    keyword: \"qingdao\",\r\n    name: \"青岛\",\r\n    citycode: \"236\",\r\n}, {\r\n    keyword: \"nanchang\",\r\n    name: \"南昌\",\r\n    citycode: \"163\",\r\n}, {\r\n    keyword: \"fuzhou\",\r\n    name: \"福州\",\r\n    citycode: \"300\",\r\n}, {\r\n    keyword: \"dongguan\",\r\n    name: \"东莞\",\r\n    citycode: \"119\",\r\n}, {\r\n    keyword: \"nanning\",\r\n    name: \"南宁\",\r\n    citycode: \"261\",\r\n}];\r\nfor (var i = 0; i < SubwayCitiesList.length; i++) {\r\n    var { citycode, name } = SubwayCitiesList[i]\r\n    $(`<option value=\"${citycode}\">${name}</option>`).appendTo(\"select\")\r\n}\r\n$(\"select\").on(\"change\", function() {\r\n    window.location.href = window.location.href.split(\"?\")[0] + \"?cityCode=\" + $(this).val()\r\n})\r\nvar cityCode = $.getUrlQuery(\"cityCode\") || 131\r\n$(\"select\").val(cityCode)\r\n$(\"head title\").html($(\"select :selected\").text() + \"地铁线路图\")\r\nvar BMapSub = {}\r\nBMapSub._rd = {};\r\nvar timeStamp = (Math.random() * 100000).toFixed(0);\r\nvar checkUrl = \"https://api.map.baidu.com/?qt=subways&c=\" + cityCode + \"&format=json&ak=yZSTYLk9UUvs0ZqXqBbtTp8ViKk5vxLM&v=3.0&from=jsapi&callback=BMapSub._rd._cbk\" + timeStamp\r\n$.getScript(checkUrl)\r\n\r\nBMapSub._rd[\"_cbk\" + timeStamp] = function(json) {\r\n    subwayPainter(json.subways.l)\r\n}\r\n\r\nvar eventsHandler = {\r\n    haltEventListeners: ['touchstart', 'touchend', 'touchmove', 'touchleave', 'touchcancel'],\r\n    init: function(options) {\r\n        var instance = options.instance,\r\n            initialScale = 1,\r\n            pannedX = 0,\r\n            pannedY = 0\r\n        this.hammer = Hammer(options.svgElement, {\r\n            inputClass: Hammer.SUPPORT_POINTER_EVENTS ? Hammer.PointerEventInput : Hammer.TouchInput\r\n        })\r\n        this.hammer.get('pinch').set({\r\n            enable: true\r\n        })\r\n        this.hammer.on('doubletap', function(ev) {\r\n            instance.zoomIn()\r\n        })\r\n        this.hammer.on('panstart panmove', function(ev) {\r\n            if (ev.type === 'panstart') {\r\n                pannedX = 0\r\n                pannedY = 0\r\n            }\r\n            instance.panBy({\r\n                x: ev.deltaX - pannedX,\r\n                y: ev.deltaY - pannedY\r\n            })\r\n            pannedX = ev.deltaX\r\n            pannedY = ev.deltaY\r\n        })\r\n        this.hammer.on('pinchstart pinchmove', function(ev) {\r\n            if (ev.type === 'pinchstart') {\r\n                initialScale = instance.getZoom()\r\n                instance.zoomAtPoint(initialScale * ev.scale, {\r\n                    x: ev.center.x,\r\n                    y: ev.center.y\r\n                })\r\n            }\r\n            instance.zoomAtPoint(initialScale * ev.scale, {\r\n                x: ev.center.x,\r\n                y: ev.center.y\r\n            })\r\n        })\r\n        options.svgElement.addEventListener('touchmove', function(e) {\r\n            e.preventDefault();\r\n        });\r\n    },\r\n    destroy: function() {\r\n        this.hammer.destroy()\r\n    }\r\n}"]}